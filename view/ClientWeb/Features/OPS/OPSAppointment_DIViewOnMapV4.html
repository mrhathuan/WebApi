<!--View-->
<div class="full" id="2view-container">
    <div class="cus-form winform" id="2view" style="{{IsFullScreen?'padding:0':''}}">
        <div class="form-header">
            <div class="left">
                <ul class="breakumb">
                    <li ng-repeat="item in BreakumbDetail"><a ng-click="Breakumb_Click($event,item)" ui-sref="{{item.Code}}">{{item.FunctionName}}</a></li>
                    <li><span>Lập chuyến</span></li>
                </ul>
            </div>
            <div class="right">
                <a href="/" class="k-button" ng-show="!IsFullScreen" ui-sref="main.OPSAppointment.DIViewOnMap"><i class="cus-button view4"></i><span class="tooltip">Dạng 1</span></a>
                <a href="/" class="k-button" ng-show="!IsFullScreen" ui-sref="main.OPSAppointment.DIViewOnMapV2"><i class="cus-button view2"></i><span class="tooltip">Dạng 2</span></a>
                <a href="/" class="k-button" ng-show="!IsFullScreen" ui-sref="main.OPSAppointment.DIViewOnMapV3"><i class="cus-button view1"></i><span class="tooltip">Dạng 3</span></a>
                <div style="width: 40px;"></div>
                <a class="k-button" style="float:left;" ng-show="NewTimeLineToMonAvailable" ng-click="NewTimeLine_GroupDelete_Click($event,new_timeline_v2)"><i class="fa fa-ban"></i><span class="tooltip">Xóa chuyến</span></a>
                <a class="k-button" style="float:left;" ng-show="NewTimeLineToMonAvailable" ng-click="NewTimeLine_GroupToMON_Click($event,new_timeline_v2)"><i class="fa fa-check-square-o"></i><span class="tooltip">Duyệt</span></a>
                <a class="k-button" style="float:left;" ng-show="NewTimeLineToOpsAvailable" ng-click="NewTimeLine_GroupToOPS_Click($event,new_timeline_v2)"><i class="fa fa-clock-o"></i><span class="tooltip">Hủy duyệt</span></a>
                <a href="/" class="k-button" ng-show="!IsFullScreen" ng-click="ViewA_Click($event)"><i class="fa fa-television"></i><span class="tooltip">Toàn màn hình</span></a>
                <a href="/" class="k-button setting" ng-show="!IsFullScreen" ng-click="ShowSetting($event,timeline_gopV2_Grid)" ng-mouseenter="ShowSetting($event,timeline_gopV2_Grid)" ng-mouseleave="HideSetting($event)" data-title="Thiết lập"><i class="fa fa-ellipsis-v"></i></a>
                <a href="/" class="k-button" ng-show="IsFullScreen" ng-click="ViewB_Click($event)"><i class="fa fa-thumb-tack"></i><span class="tooltip is-right">Thu nhỏ</span></a>
            </div>
        </div>
        <div class="form-body">
            <div kendo-splitter="timelineV2Splitter" k-options="timelineV2Splitter_Options" class="cus-splitter hor-splitter">
                <div>
                    <div class="cus-form">
                        <div class="form-header">
                            <div class="left">
                            </div>
                            <div class="right">
                                <div style="margin: 0 2px;">
                                    <ul class="filter-list" style="float: left;">
                                        <li data-tabindex="1" ng-click="TimelineOrderV2ViewResource_Click($event,new_timeline_v2,1)" class="k-item" ng-class="NewTimeLineResourceType==1?'k-state-active':''">Theo xe</li>
                                        <li data-tabindex="2" ng-click="TimelineOrderV2ViewResource_Click($event,new_timeline_v2,2)" class="k-item" ng-class="NewTimeLineResourceType==2?'k-state-active':''">Theo ĐH</li>
                                    </ul>
                                </div>
                                <a class="k-button" ng-show="!NewTimeLineLoadingV2" href="#" ng-click="TimelineOrderV2ViewCustomerSelect_Click($event,new_timeline_v2_customer_select_win)" ng-class="NewTimeLineVehicleDataCustomer.length>0?'active':''"><i class="fa fa-group"></i><span class="tooltip">Lọc khách hàng</span></a>
                                <a class="k-button" ng-show="!NewTimeLineLoadingV2" href="#" ng-click="TimelineOrderV2ViewStatusSelect_Click($event,new_timeline_v2_status_select_win)" ng-class="NewTimeLineVehicleDataStatus.length>0?'active':''"><i class="fa fa-recycle"></i><span class="tooltip is-right">Lọc trạng thái</span></a>
                            </div>
                            <div class="clear"></div>
                        </div>
                        <div class="form-body">
                            <div ng-show="NewTimeLineLoadingV2" style="position: absolute;z-index: 999999;background: #fff;width: 100%;height: 100%;">
                                <i class="fa fa-spinner fa-spin" style="font-size: 44px;color: #31b6fc;left: calc(50% - 22px);top: calc(50% - 22px);position: relative;"></i>
                            </div>
                            <div class="cus-scheduler new-timeline-trip-v2" expand-k-scheduler kendo-scheduler="new_timeline_v2" k-options="new_timeline_v2Options" k-rebind="new_timeline_v2Options" k-delay="new_timeline_v2Options"></div>
                        </div>
                    </div>
                </div>
                <div>
                    <div class="cus-form">
                        <div class="form-header">
                            <div class="left">
                            </div>
                            <div class="right">
                                <div style="margin: 0 2px;">
                                    <ul class="filter-list" style="float: left;">
                                        <li data-tabindex="-1" ng-click="TimelineOrderV2ViewTripAction_Click($event,new_timeline_v2)" class="k-item" ng-class="TimeLineViewTripAction?'k-state-active':''">Xóa/Duyệt chuyến</li>
                                        <li data-tabindex="1" ng-click="TimelineOrderV2ViewStatus_Click($event,timeline_gopV2_Grid)" class="k-item" ng-class="!TimeLineViewTripAction&&TimeLineViewOrderLTLV2?'k-state-active':''">LTL</li>
                                        <li data-tabindex="2" ng-click="TimelineOrderV2ViewStatus_Click($event,timeline_gopV2_Grid)" class="k-item" ng-class="!TimeLineViewTripAction&&!TimeLineViewOrderLTLV2?'k-state-active':''">FTL</li>
                                        <li data-tabindex="4" class="k-item" style="margin:0;padding:0;">
                                            <a class="k-button" href="#" ng-click="TimelineOrderV2ViewDate_Click($event,timeline_gopV2_Grid)" style="position:relative;top:-1px;" ng-class="!TimeLineViewTripAction&&TimeLineViewV2OrderDate?'active':''">
                                                <i class="fa fa-calendar-o"></i><span class="tooltip">Chọn ngày</span>
                                            </a>
                                            <ul ng-show="ShowTimeLineV2OrderDate" style="z-index: 990001; position: absolute; right: 0; background-color: #fff; color: #000; width: 150px; list-style: none; padding: 2px 10px; box-shadow: -2px 2px 3px #d7e3f0; ">
                                                <li>
                                                    Từ ngày: <input class="cus-datepicker" focus-k-datepicker kendo-date-picker k-ng-model="TimeLineV2DateRequest.fDate" k-options="DateDMY" />
                                                </li>
                                                <li>
                                                    Đến ngày: <input class="cus-datepicker" focus-k-datepicker kendo-date-picker k-ng-model="TimeLineV2DateRequest.tDate" k-options="DateDMY" />
                                                </li>
                                                <li style="text-align: center;">
                                                    <a class="accept" ng-click="TimeLineOrderV2ViewDate_OK_Click($event,timeline_gopV2_Grid)">Đồng ý</a>
                                                    <a class="accept" ng-click="TimeLineOrderV2ViewDate_Cancel_Click($event,timeline_gopV2_Grid)">Hủy chọn</a>
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                    <a class="k-button" href="#" ng-click="TimelineOrderV2ViewTimeLineWithFilter_Click($event,timeline_gopV2_Grid)" ng-class="TimeLineViewOrderV2WithTimeLineFilter?'active':''"><i class="fa fa-exchange"></i><span class="tooltip is-right">Lọc DL</span></a>
                                </div>
                            </div>
                            <div class="clear"></div>
                        </div>
                        <div class="form-body" ng-show="TimeLineViewTripAction">
                            <div style="width:calc(100% - 54px); height:110px; margin:20px; border:7px solid #54C4FF;" class="panel panel_action panel_action_tomon" data-action="1">
                                <div class="panel-backgroud panel-title" style="width: 100%;text-align: center;color: #54c4ff;line-height: 110px;font-size: 18px;font-weight: bold;opacity: 0.5;">
                                    DUYỆT
                                </div>
                            </div>
                            <div style="width:calc(100% - 54px); height:110px; margin:20px; border:7px solid #FF6C87;" class="panel panel_action panel_action_toops" data-action="2">
                                <div class="panel-backgroud panel-title" style="width: 100%;text-align: center;color: #FF6C87;line-height: 110px;font-size: 18px;font-weight: bold;opacity: 0.5;">
                                    HỦY DUYỆT
                                </div>
                            </div>
                            <div style="width:calc(100% - 54px); height:110px; margin:20px; border:7px solid #5e6163;" class="panel panel_action panel_action_toord" data-action="3">
                                <div class="panel-backgroud panel-title" style="width: 100%;text-align: center;color: #5e6163;line-height: 110px;font-size: 18px;font-weight: bold;opacity: 0.5;">
                                    XÓA
                                </div>
                            </div>
                        </div>
                        <div class="form-body" ng-show="!TimeLineViewTripAction">
                            <div kendo-tooltip k-options="timelinetooltipV2Options" class="full cus-tooltip">
                                <div class="cus-grid" id="timeline-group-v2-grid" expand-k-grid="ops_timeline_gop_view_on_map_Grid" kendo-grid="timeline_gopV2_Grid" k-options="timeline_gopV2_Grid_Options"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--FTLSplit Popup-->
<div class="cus-window" kendo-window="split_gop_win" k-title="false" k-max-width="1200" k-width="900" k-max-height="650" k-height="500" k-visible="false" k-resizable="false" k-modal="true">
    <div class="cus-form">
        <div class="form-header">
            <div class="left title">
                Chia đơn hàng
            </div>
            <div class="right"></div>
        </div>
        <div class="form-body with-footer">
            <div class="cus-grid" kendo-grid="splitGop_Grid" k-options="splitGop_GridOptions" expand-k-grid></div>
        </div>
        <div class="form-footer">
            <div>
                <a href="/" ng-click="FTLSplit_OK_Click($event,splitGop_Grid,split_gop_win)" class="k-button accept">Xác nhận</a>
                <a href="/" ng-click="Close_Click($event,split_gop_win)" class="k-button close">Đóng</a>
            </div>
        </div>
    </div>
</div>

<!--New Vendor Vehicle Popup-->
<div class="cus-window" kendo-window="new_vehicle_win" k-title="false" k-max-width="1200" k-width="400" k-max-height="650" k-height="170" k-visible="false" k-resizable="false" k-modal="true">
    <div class="cus-form">
        <div class="form-header">
            <div class="left title">
                Thông tin
            </div>
            <div class="right"></div>
        </div>
        <div class="form-body with-footer">
            <div class="form-content-100">
                <div class="rowinput">
                    <label>Số xe<span class="required">*</span></label>
                    <div>
                        <input class="k-textbox" type="text" ng-model="NewVehicleVendor.RegNo" />
                    </div>
                    <div class="clear"></div>
                </div>
                <div class="rowinput">
                    <label>Trọng tải</label>
                    <div>
                        <input class="k-textbox cus-number" type="number" ng-model="NewVehicleVendor.MaxWeight" min="0" step="0.1" style="width:100%" />
                    </div>
                    <div class="clear"></div>
                </div>
            </div>
        </div>
        <div class="form-footer">
            <div>
                <a href="/" ng-click="VehicleVendor_New_OK_Click($event,vehicleByVendor_Grid,new_vehicle_win)" class="k-button accept">Xác nhận</a>
                <a href="/" ng-click="Close_Click($event,new_vehicle_win)" class="k-button close">Đóng</a>
            </div>
        </div>
    </div>
</div>

<!--NewTimeLineV2 EventTemplate-->
<script id="new-timeline-v2-event-template" type="text/x-kendo-template">
    <div style="cursor:pointer;height:100%;" class="cus-event" ng-mouseenter="ShowTimeLineV2Tooltip($event,#=id#)" ng-mouseleave="HideTimeLineV2Tooltip($event)" ng-click="NewTimeLineV2Event_Click($event,#=id#,#=TypeOfEvent#,#=start.getTime()#,#=end.getTime()#,timeline_v2_trip_info_win,timeline_tomaster_win)">
        <div class="event-content" style="line-height: 20px; white-space: nowrap; overflow: hidden;">#=title#</div>
    </div>
</script>

<!--TimeLine V2 Tooltip-->
<div id="timeline_v2_tooltip" class="cus-window opacity90" style="opacity: 0.9; position: absolute; z-index: 999999; background: #f6fafe; margin: 0; padding: 3px 10px; border: 2px solid #31b6fc; border-radius: 4px;" ng-style="TimeLineV2InfoStyle">
    <div class="cus-form">
        <table class="td-right">
            <tbody>
                <tr style="line-height:18px;">
                    <td colspan="5" style="text-align:left;">Tổng tấn: <b>{{TimeLineV2InfoItem.Ton}}/{{TimeLineV2InfoItem.MaxTon}}</b>  ETD:<b>{{TimeLineV2InfoItem.ETD}}</b>  ETA:<b>{{TimeLineV2InfoItem.ETA}}</b></td>
                </tr>
                <tr ng-repeat="item in TimeLineV2InfoItem.ListGroupProduct">
                    <td>
                        KH: <b>{{item.CusCode}}</b>
                    </td>
                    <td>
                        ĐH: <b>{{item.OrderCode}}</b>
                    </td>
                    <td>
                        Nhóm: <b>{{item.GOPCode}}</b>
                    </td>
                    <td>
                        Loại: <b>{{item.ModeName}}</b>
                    </td>
                    <td>
                        Từ: <b>{{item.From}}</b>
                    </td>
                    <td>
                        Đến: <b>{{item.DisCode}} - {{item.To}}</b>
                    </td>
                    <td>
                        <b>{{item.Ton}}T, {{item.CBM}}K, {{item.Qty}}SL</b>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<!--TimeLineGroup Popup-->
<div class="cus-window opacity90" k-title="false" draggable-k-window k-max-width="1200" k-width="900" k-max-height="650" k-height="500" kendo-window="timeline_tomaster_win" k-visible="false" k-resizable="false" k-modal="true">
    <div class="cus-form">
        <div class="form-header">
            <div class="left title">
                Danh sách chuyến
            </div>
            <div class="clear"></div>
        </div>
        <div class="form-body with-footer">
            <div class="cus-grid" expand-k-grid kendo-grid="timeline_tomaster_Grid" k-options="timeline_tomaster_Grid_Options"></div>
        </div>
        <div class="form-footer">
            <div>
                <a href="/" ng-click="Close_Click($event,timeline_tomaster_win)" class="k-button close">Đóng</a>
            </div>
        </div>
    </div>
</div>

<!--TimeLine Trip Info Popup-->
<div class="cus-window opacity90" k-title="false" draggable-k-window k-max-width="1200" k-width="800" k-max-height="650" k-height="400" k-min-width="500" k-min-height="300" kendo-window="timeline_v2_trip_info_win" k-visible="false" k-resizable="false" k-modal="true" k-on-close="On_Close('NewTimeLineDetail')">
    <div class="cus-form">
        <div class="form-header">
            <div class="left title">
                Chi tiết chuyến
            </div>
            <div class="right">
                <div>
                    <ul class="filter-list" style="float: left; line-height: 30px;">
                        <li data-tabindex="1" ng-click="TimeLineInfoTabIndex=1" class="k-item" ng-class="TimeLineInfoTabIndex==1?'k-state-active':''">Thông tin chuyến</li>
                        <li data-tabindex="2" ng-click="TimeLineInfoTabIndex=2" class="k-item" ng-class="TimeLineInfoTabIndex==2?'k-state-active':''">Chi tiết vận chuyển</li>
                    </ul>
                </div>
                <a href="/" class="k-button" ng-click="Close_Click($event,timeline_v2_trip_info_win,'NewTimeLineDetail')"><i class="fa fa-close"></i></a>
            </div>
            <div class="clear"></div>
        </div>
        <div class="form-body">
            <div class="full" ng-show="TimeLineInfoTabIndex==1">
                <table class="td-right" style="padding: 0 15% 0 15%;width:100%;" ng-show="NewTimeLineItem.VendorOfVehicleID>0">
                    <tbody>
                        <tr>
                            <td style="width:140px;">
                                Nhà xe:
                            </td>
                            <td colspan="6">
                                {{NewTimeLineItem.VendorOfVehicleCode}}
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Đầu kéo:
                            </td>
                            <td colspan="6">
                                <span ng-show="NewTimeLineItem.Status>1">{{NewTimeLineItem.VehicleNo}}</span>
                                <input ng-show="NewTimeLineItem.Status==1" style="width:calc(100% - 30px);" class="cus-combobox" focus-k-combobox kendo-combobox="cboNewTimeLineVehicle" k-ng-model="NewTimeLineItem.VehicleID" k-options="cboNewTimeLineVehicle_Options" />
                                <a ng-show="NewTimeLineItem.Status==1" class="k-button" href="/" ng-click="TimeLine_Vehicle_Vendor_Create($event,new_vendor_vehicle_win)" title="Thêm nhanh" style="width:26px;"><i class="fa fa-plus"></i></a>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Tài xế:
                            </td>
                            <td colspan="6">
                                <input ng-disabled="NewTimeLineItem.Status!=1" kendo-auto-complete focus-k-complete ng-model="NewTimeLineItem.DriverName" k-options="atcNewTimeLineDriverNameOptions" style="width: 205px;" />
                                <input ng-disabled="NewTimeLineItem.Status!=1" type="text" class="k-textbox" ng-model="NewTimeLineItem.DriverTel" maxlength="11" placeholder="SĐT" style="width: 139px; height: 26px; line-height: 26px; padding: .177em 0; text-indent: .33em; border-color: #c5c5c5; " />
                            </td>
                        </tr>
                        <tr>
                            <td>
                                ETD:
                            </td>
                            <td colspan="6">
                                <input ng-disabled="NewTimeLineItem.Status!=1" style="width: 347px" class="cus-datepicker" focus-k-datetimepicker kendo-date-time-picker k-ng-model="NewTimeLineItem.ETD" k-options="DateDMYHM" />
                            </td>
                        </tr>
                        <tr>
                            <td>
                                ETA:
                            </td>
                            <td colspan="6">
                                <input ng-disabled="NewTimeLineItem.Status!=1" style="width: 347px" class="cus-datepicker" focus-k-datetimepicker kendo-date-time-picker k-ng-model="NewTimeLineItem.ETA" k-options="DateDMYHM" />
                            </td>
                        </tr>
                        <tr>
                            <td colspan="7" style="padding:0;text-align:center;">
                                <a href="/" ng-show="NewTimeLineItem.Status==1&&NewTimeLineItem.HasChange" ng-click="NewTimeLineInfo_Update_Click($event,timeline_trip_info_win)" class="k-button accept" style="box-shadow: none;background: none;border-radius: 5px;background-color: #31b6fc;color: #fff;">Đồng ý</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <table class="td-right" style="padding: 0 15% 0 15%;width:100%;" ng-show="NewTimeLineItem.VendorOfVehicleID<0||NewTimeLineItem.VendorOfVehicleID==null">
                    <tbody>
                        <tr></tr>
                        <tr>
                            <td style="width:140px;">
                                Nhà xe:
                            </td>
                            <td colspan="6">
                                {{NewTimeLineItem.VendorOfVehicleCode}}
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Đầu kéo:
                            </td>
                            <td colspan="6">
                                <a class="k-button" ng-show="NewTimeLineItem.Status==1" title="{{NewTimeLineItem.VehicleNo}}" style="width: 347px; background: none; height: 26px; text-align: left; " ng-click="NewTimeLineVehicle_Change_Click($event,vehicle_map_win)">{{NewTimeLineItem.VehicleNo}}</a>
                                <span ng-show="NewTimeLineItem.Status>1">{{NewTimeLineItem.VehicleNo}}</span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Tài xế:
                            </td>
                            <td colspan="6">
                                <span ng-show="NewTimeLineItem.Status>1">{{NewTimeLineItem.DriverName}} - {{NewTimeLineItem.DriverTel}}</span>
                                <input ng-show="NewTimeLineItem.Status==1" ng-disabled="NewTimeLineItem.Status>1||NewTimeLineItem.VendorOfVehicleID==-1" kendo-auto-complete focus-k-complete ng-model="NewTimeLineItem.DriverName" k-options="atcNewTimeLineDriverNameOptions" style="width: 205px;" />
                                <input ng-show="NewTimeLineItem.Status==1" ng-disabled="NewTimeLineItem.Status>1||NewTimeLineItem.VendorOfVehicleID==-1" type="text" class="k-textbox" ng-model="NewTimeLineItem.DriverTel" maxlength="11" placeholder="SĐT" style="width: 139px; height: 26px; line-height: 26px; padding: .177em 0; text-indent: .33em; border-color: #c5c5c5; " />
                            </td>
                        </tr>
                        <tr>
                            <td>
                                ETD:
                            </td>
                            <td colspan="6">
                                <span ng-show="NewTimeLineItem.Status>1" ng-bind="ToDateString(NewTimeLineItem.ETD)"></span>
                                <input ng-show="NewTimeLineItem.Status==1" ng-disabled="NewTimeLineItem.Status!=1" style="width: 347px" class="cus-datepicker" focus-k-datetimepicker kendo-date-time-picker k-ng-model="NewTimeLineItem.ETD" k-options="DateDMYHM" />
                            </td>
                        </tr>
                        <tr>
                            <td>
                                ETA:
                            </td>
                            <td colspan="6">
                                <span ng-show="NewTimeLineItem.Status>1" ng-bind="ToDateString(NewTimeLineItem.ETA)"></span>
                                <input ng-show="NewTimeLineItem.Status==1" ng-disabled="NewTimeLineItem.Status!=1" style="width: 347px" class="cus-datepicker" focus-k-datetimepicker kendo-date-time-picker k-ng-model="NewTimeLineItem.ETA" k-options="DateDMYHM" />
                            </td>
                        </tr>
                        <tr>
                            <td colspan="7" style="padding:0;text-align:center;">
                                <span ng-show="NewTimeLineItem.Status==1&&NewTimeLineItem.HasChange&&!NewTimeLineItem.IsCheching" style="padding: 0 10px; color:{{NewTimeLineItem.StatusColor}}">{{NewTimeLineItem.StatusCode}}</span>
                                <a href="/" ng-show="NewTimeLineItem.Status==1&&NewTimeLineItem.HasChange" ng-click="NewTimeLineInfo_Update_Click($event,timeline_v2_trip_info_win)" class="k-button accept" style="box-shadow: none;background: none;border-radius: 5px;background-color: #31b6fc;color: #fff;">Đồng ý</a>
                                <!--<a href="/" ng-show="NewTimeLineItem.Status==1" ng-click="NewTimeLineV2_Change_Time_Click($event)" class="k-button">Điều chỉnh chặng</a>-->
                                <a href="/" ng-show="NewTimeLineItem.ID >= 1" ng-click="NewTimeLineV2_Change_Driver_Click($event)" class="k-button">Cập nhật tài xế</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="full" ng-show="TimeLineInfoTabIndex==2">
                <div class="cus-grid" expand-k-grid kendo-grid="new_timeline_trip_info_Grid" k-options="new_timeline_trip_info_Grid_Options"></div>
            </div>
        </div>
    </div>
</div>

<!--NewTimeLineCustomerSelect Popup-->
<div class="cus-window opacity90" k-title="false" draggable-k-window k-max-width="1200" k-width="500" k-max-height="650" k-height="500" kendo-window="new_timeline_v2_customer_select_win" k-visible="false" k-resizable="false" k-modal="true" k-on-close="On_Close('TimeLineV2CustomerSelect')">
    <div class="cus-form">
        <div class="form-header">
            <div class="left title">
                Chọn khách hàng
            </div>
            <div class="clear"></div>
        </div>
        <div class="form-body with-footer">
            <div class="cus-grid" expand-k-grid kendo-grid="new_timeline_v2_customer_select_Grid" k-options="new_timeline_v2_customer_select_Grid_Options"></div>
        </div>
        <div class="form-footer" style="background: #f6fafe;">
            <div>
                <a href="/" ng-click="NewTimeLineV2CustomerSelect_OK_Click($event,new_timeline_v2_customer_select_Grid,new_timeline_v2_customer_select_win)" class="k-button accept">Đồng ý</a>
                <a href="/" ng-click="Close_Click($event,new_timeline_v2_customer_select_win,'TimeLineV2CustomerSelect')" class="k-button close">Đóng</a>
            </div>
        </div>
    </div>
</div>

<!--NewTimeLineStatusSelect Popup-->
<div class="cus-window opacity90" k-title="false" draggable-k-window k-max-width="1200" k-width="500" k-max-height="650" k-height="300" kendo-window="new_timeline_v2_status_select_win" k-visible="false" k-resizable="false" k-modal="true" k-on-close="On_Close('TimeLineV2StatusSelect')">
    <div class="cus-form">
        <div class="form-header">
            <div class="left title">
                Chọn trạng thái
            </div>
            <div class="clear"></div>
        </div>
        <div class="form-body with-footer">
            <div class="cus-grid" expand-k-grid kendo-grid="new_timeline_v2_status_select_Grid" k-options="new_timeline_v2_status_select_Grid_Options"></div>
        </div>
        <div class="form-footer" style="background: #f6fafe;">
            <div>
                <a href="/" ng-click="NewTimeLineV2StatusSelect_OK_Click($event,new_timeline_v2_status_select_Grid,new_timeline_v2_status_select_win)" class="k-button accept">Đồng ý</a>
                <a href="/" ng-click="Close_Click($event,new_timeline_v2_status_select_win,'TimeLineV2StatusSelect')" class="k-button close">Đóng</a>
            </div>
        </div>
    </div>
</div>

<!--New Map Popup-->
<div class="cus-window opacity90" k-title="false" draggable-k-window k-max-width="1200" k-width="650" k-max-height="650" k-height="400" kendo-window="vehicle_map_win" k-visible="false" k-resizable="false" k-modal="true" k-on-close="On_Close('VehicleMAP')">
    <div class="cus-form">
        <div class="form-header">
            <div class="left title">
                Thông tin phương tiện
            </div>
            <div class="right">
                <a href="/" class="k-button" ng-click="Close_Click($event,vehicle_map_win,'VehicleMAP')"><i class="fa fa-close"></i></a>
            </div>
            <div class="clear"></div>
        </div>
        <div class="form-body">
            <div class="cus-grid" expand-k-grid kendo-grid="vehMap_Grid" k-options="vehMap_Grid_Options"></div>            
        </div>
    </div>
</div>

<!--New Vehicle Info Popup-->
<div class="cus-window" kendo-window="new_timeline_vehicle_info_win" k-title="false" k-max-width="1200" k-width="400" k-max-height="650" k-height="250" k-visible="false" k-resizable="false" k-modal="true">
    <div class="cus-form">
        <div class="form-header">
            <div class="left title">
                Thông tin
            </div>
            <div class="right"></div>
        </div>
        <div class="form-body with-footer">
            <table class="td-right">
                <tbody>
                    <tr>
                        <td style="width:100px;">
                            Nhà xe:
                        </td>
                        <td colspan="6" style="font-weight:bold;">
                            {{NewTimeLineVehicleItem.VendorName}}
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Số xe:
                        </td>
                        <td colspan="6" style="font-weight:bold;">
                            {{NewTimeLineVehicleItem.RegNo}}
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Trọng tải:
                        </td>
                        <td colspan="6" style="font-weight:bold;">
                            {{NewTimeLineVehicleItem.MaxWeight}}
                        </td>
                    </tr>
                    <tr>
                    <tr>
                        <td>
                            Tài xế:
                        </td>
                        <td colspan="6" style="font-weight:bold;">
                            {{NewTimeLineVehicleItem.DriverName}}
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="form-footer">
            <div>
                <a href="/" ng-click="Close_Click($event,new_timeline_vehicle_info_win)" class="k-button close">Đóng</a>
            </div>
        </div>
    </div>
</div>

<!--New Vendor Vehicle Popup-->
<div class="cus-window" kendo-window="new_vendor_vehicle_win" k-title="false" k-max-width="1200" k-width="400" k-max-height="650" k-height="200" k-visible="false" k-resizable="false" k-modal="true">
    <div class="cus-form">
        <div class="form-header">
            <div class="left title">
                Thông tin
            </div>
            <div class="right"></div>
        </div>
        <div class="form-body with-footer">
            <div class="form-content-100">
                <div class="rowinput">
                    <label>Số xe<span class="required">*</span></label>
                    <div>
                        <input class="k-textbox" type="text" ng-model="NewVendorVehicle.RegNo" />
                    </div>
                    <div class="clear"></div>
                </div>
                <div class="rowinput">
                    <label>Trọng tải</label>
                    <div>
                        <input class="k-textbox cus-number" type="number" ng-model="NewVendorVehicle.MaxWeight" min="0" step="0.1" style="width:100%" />
                    </div>
                    <div class="clear"></div>
                </div>
                <div class="rowinput">
                    <label>Số khối</label>
                    <div>
                        <input class="k-textbox cus-number" type="number" ng-model="NewVendorVehicle.MaxCapacity" min="0" step="0.1" style="width:100%" />
                    </div>
                    <div class="clear"></div>
                </div>
            </div>
        </div>
        <div class="form-footer">
            <div>
                <a href="/" ng-click="VehicleVendor_New_OK_Click($event,new_vendor_vehicle_win)" class="k-button accept">Xác nhận</a>
                <a href="/" ng-click="Close_Click($event,new_vendor_vehicle_win)" class="k-button close">Đóng</a>
            </div>
        </div>
    </div>
</div>

<!--NewTimeLineDetail - HOMEVehicle Popup-->
<div class="cus-window opacity90" k-title="false" draggable-k-window k-max-width="1200" k-width="600" k-max-height="650" k-height="345" kendo-window="new_timeline_info_win" k-visible="false" k-resizable="false" k-modal="true" k-on-close="On_Close('NewTimeLineDetail')">
    <div class="cus-form">
        <div class="form-header" style="background: #f6fafe;">
            <div class="left title">
                Chuyến: {{NewTimeLineItem.Code}}
            </div>
            <div class="right" style="font-weight:bold;" ng-show="NewTimeLineItem.Status==1">
                <div ng-show="NewTimeLineItem.IsCheching">
                    <i class="fa fa-spinner fa-spin" style="font-size: 26px; color: #31b6fc;"></i>
                </div>
                <span ng-show="!NewTimeLineItem.IsCheching" style="padding: 0 10px; color:{{NewTimeLineItem.StatusColor}}">{{NewTimeLineItem.StatusCode}}</span>
            </div>
            <div class="clear"></div>
        </div>
        <div class="form-body with-footer" scrolldiv>
            <table class="td-right">
                <tbody>
                    <tr>
                        <td style="width:140px;">
                            Nhà xe:
                        </td>
                        <td colspan="6">
                            {{NewTimeLineItem.VendorOfVehicleCode}}
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Số xe:
                        </td>
                        <td colspan="6">
                            <a class="k-button" title="{{NewTimeLineItem.VehicleNo}}" style="width: 347px; background: none; height: 26px; text-align: left; " ng-click="NewTimeLineVehicle_Change_Click($event,vehicle_map_win)">{{NewTimeLineItem.VehicleNo}}</a>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Tài xế:
                        </td>
                        <td colspan="6">
                            <input ng-disabled="true" kendo-auto-complete focus-k-complete ng-model="NewTimeLineItem.DriverName" k-options="atcNewTimeLineDriverNameOptions" style="width: 205px;" />
                            <input ng-disabled="true" type="text" class="k-textbox" ng-model="NewTimeLineItem.DriverTel" maxlength="11" placeholder="SĐT" style="width: 139px; height: 26px; line-height: 26px; padding: .177em 0; text-indent: .33em; border-color: #c5c5c5; " />
                        </td>
                    </tr>
                    <tr>
                        <td>
                            ETD:
                        </td>
                        <td colspan="6">
                            <input ng-disabled="NewTimeLineItem.Status!=1" style="width: 347px" class="cus-datepicker" focus-k-datetimepicker kendo-date-time-picker k-ng-model="NewTimeLineItem.ETD" k-options="DateDMYHM" />
                        </td>
                    </tr>
                    <tr>
                        <td>
                            ETA:
                        </td>
                        <td colspan="6">
                            <input ng-disabled="NewTimeLineItem.Status!=1" style="width: 347px" class="cus-datepicker" focus-k-datetimepicker kendo-date-time-picker k-ng-model="NewTimeLineItem.ETA" k-options="DateDMYHM" />
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Điểm bắt đầu:
                        </td>
                        <td colspan="6">
                            <a class="k-button" title="{{NewTimeLineItem.LocationStartName}}" style="width: 347px; background: none; height: 26px; text-align: left; " ng-click="TripLocation_Change($event,1,location_win)">{{NewTimeLineItem.LocationStartName}}</a>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Điểm kết thúc:
                        </td>
                        <td colspan="6">
                            <a class="k-button" title="{{NewTimeLineItem.LocationEndName}}" style="width: 347px; background: none; height: 26px; text-align: left; " ng-click="TripLocation_Change($event,2,location_win)">{{NewTimeLineItem.LocationEndName}}</a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="form-footer" style="background: #f6fafe;">
            <div>
                <!--<a href="/" ng-show="NewTimeLineItem.Status==1" ng-click="NewTimeLineV2_Change_Time_Click($event)" class="k-button">Điều chỉnh chặng</a>-->
                <a href="/" ng-show="NewTimeLineItem.Status==1&&NewTimeLineItem.VehicleID>0" ng-click="NewTimeLineV2_Update_OK_Click($event,new_timeline_info_win)" class="k-button accept">Lưu</a>
                <a href="/" ng-click="Close_Click($event,new_timeline_info_win,'NewTimeLineDetail')" class="k-button close">Đóng</a>
            </div>
        </div>
    </div>
</div>

<!--NewTimeLineDetail - CUSVehicle Popup-->
<div class="cus-window opacity90" k-title="false" draggable-k-window k-max-width="1200" k-width="600" k-max-height="650" k-height="280" kendo-window="new_timeline_vendor_info_win" k-visible="false" k-resizable="false" k-modal="true" k-on-close="On_Close('NewTimeLineDetail')">
    <div class="cus-form">
        <div class="form-header" style="background: #f6fafe;">
            <div class="left title">
                Chuyến: {{NewTimeLineItem.Code}}
            </div>
            <div class="right" style="font-weight:bold;" ng-show="NewTimeLineItem.Status==1">
                <div ng-show="NewTimeLineItem.IsCheching">
                    <i class="fa fa-spinner fa-spin" style="font-size: 26px; color: #31b6fc;"></i>
                </div>
                <span ng-show="!NewTimeLineItem.IsCheching" style="padding: 0 10px; color:{{NewTimeLineItem.StatusColor}}">{{NewTimeLineItem.StatusCode}}</span>
            </div>
            <div class="clear"></div>
        </div>
        <div class="form-body with-footer" scrolldiv>
            <table class="td-right">
                <tbody>
                    <tr>
                        <td style="width:140px;">
                            Nhà xe:
                        </td>
                        <td colspan="6">
                            {{NewTimeLineItem.VendorOfVehicleCode}}
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Số xe:
                        </td>
                        <td colspan="6">
                            <input style="width:calc(100% - 30px);" class="cus-combobox" focus-k-combobox kendo-combobox="cboNewTimeLineVehicle" k-ng-model="NewTimeLineItem.VehicleID" k-options="cboNewTimeLineVehicle_Options" />
                            <a class="k-button" href="/" ng-click="TimeLine_Vehicle_Vendor_Create($event,new_vendor_vehicle_win)" title="Thêm nhanh" style="width:26px;"><i class="fa fa-plus"></i></a>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Tài xế:
                        </td>
                        <td colspan="6">
                            <input ng-disabled="true" kendo-auto-complete focus-k-complete ng-model="NewTimeLineItem.DriverName" k-options="atcNewTimeLineDriverNameOptions" style="width: 205px;" />
                            <input ng-disabled="true" type="text" class="k-textbox" ng-model="NewTimeLineItem.DriverTel" maxlength="11" placeholder="SĐT" style="width: 139px; height: 26px; line-height: 26px; padding: .177em 0; text-indent: .33em; border-color: #c5c5c5; " />
                        </td>
                    </tr>
                    <tr>
                        <td>
                            ETD:
                        </td>
                        <td colspan="6">
                            <input ng-disabled="NewTimeLineItem.Status!=1" style="width: 347px" class="cus-datepicker" focus-k-datetimepicker kendo-date-time-picker k-ng-model="NewTimeLineItem.ETD" k-options="DateDMYHM" />
                        </td>
                    </tr>
                    <tr>
                        <td>
                            ETA:
                        </td>
                        <td colspan="6">
                            <input ng-disabled="NewTimeLineItem.Status!=1" style="width: 347px" class="cus-datepicker" focus-k-datetimepicker kendo-date-time-picker k-ng-model="NewTimeLineItem.ETA" k-options="DateDMYHM" />
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="form-footer" style="background: #f6fafe;">
            <div>
                <a href="/" ng-show="NewTimeLineItem.Status==1&&NewTimeLineItem.VehicleID>0" ng-click="NewTimeLineV2_Update_OK_Click($event,new_timeline_vendor_info_win)" class="k-button accept">Lưu</a>
                <a href="/" ng-click="Close_Click($event,new_timeline_vendor_info_win,'NewTimeLineDetail')" class="k-button close">Đóng</a>
            </div>
        </div>
    </div>
</div>